---
title: EC2 Basics (SAA-CO3) - part4
date: '2023-04-16'
tags: ['AWS', 'SAA-CO3', EC2]
draft: false
summary: Learn Ec2 fundamentals.
---


## **What is Amazon EC2?**

EC2 is one of the most popular of AWS offering. It is definitely used everywhere. And what is it? Well, it stands for **Elastic Compute Cloud** and this is the way to do Infrastructure as a Service on AWS. So EC2 is not just one service. It's composed of many things at a high level.
- You can rent virtual machines on EC2, they're called EC2 instances. 
- You can store data on virtual drives or EBS volumes. 
- You can distribute load across machines, Elastic Load Balancer. 
- You can scale services using an auto-scaling group or AS

## **EC2 sizing & configuration options**
You can configure many things which choosing EC2 such as,

- Operating System (OS): Linux, Windows, Mac OS 
- How much compute power and cores you want (CPU) 
- How much random access memory or RAM you want
- How much storage space,
    - Network-attached (EBS or EFS)
    - Hardware-attached (EC2 instance store)
- Network card
- Firewall rules: Security group
- Bootstrap script (configure the instance at first launch): EC2 User Data

## **EC2 User Data**

It is possible to bootstrap our instances using the EC2 User Data script. 

**What does bootstrapping mean?** 

Well, bootstrapping means launching commands when the machine starts. So, whatever(script) you write in user data that script is only run once and when it first starts, and then will never be run again. So the EC2 User Data has a very specific purpose. It is to automate boot tasks, hence the name bootstrapping. 

**What tasks do you want to automate?** 

EC2 user data is used to automate boot tasks such as:
- Install updates
- Install software
- Download common files from the Internet

So it could be whatever you want, but just know that the more you add into your User Data script, the more your instant has to do at boot time. EC2 User Data scripts runs with a root user. 

 ## **What type of instances do we get for EC2?** 
 
There are hundreds and hundreds of EC2 instance types, but, here are five for you. So the first one is a t2 micro, very very simple. It has one vCPU, one gigabyte of memory. The storage is only for EBS, and it has a low to moderate network performance. But as soon as you increase the instance type like for example if you stay in the same family, so we stay in the t2 family but we go to t2.xlarge, now we have access to four vCPU 16 megabytes of RAM, gigabytes of RAM, sorry, and network performance of moderate. If we go to complete different new levels, so c5d.4xlarge, which is a very complicated name, you get 16 vCPU, so 16 cores, you get 32 gigabytes of memory, so a lot more, you get some storage that is attached to your EC2 instance, this is where it says 400 NVMe SSD. Now the network is going to get really good up to 10 gigabytes, as well as the bandwidth to talk to network storage. And so, as you can see, if you go to r5.16xlarge or m5.8xlarge, again you have different characteristics.

![EC2 Instance Example](/static/images/blogs/AWS/EC2-instance-examples.webp)

### **Type of Instances**



There are many different types of EC2 instances that you can use for different use cases and they have different types of optimization. In official [AWS website](https://aws.amazon.com/ec2/instance-types/), as we can see, we have different types of instances. We have general purpose, compute, optimized, memory optimize and so on. And so for each type of instance we have different families. Here is the high-level overview of how there naming work in AWS. 

AWS will have the following naming convention:

### <p class="sdasd" style={{textAlign: "center"}}><span style={{color:"blue"}}>m</span><span style={{color:"orange"}}>5</span><span>.</span><span style={{color:"green"}}>2xlarge</span></p>

For example, we'll be talking about an M 5 dot 2 X large type of instance. What does that mean? Well, M is going to be called the `Instance Class`. And this is going to be, for example, in this case a **General Purpose** type of instance, 5 is `generation` of the instance. So as AWS improves the hardware over time if we release a new generation of hardware, and so after M 5, if they improve the M type of instance class then we'll go to M6 and then finally the 2 X large represented the `size` within the instance class. So, it starts as small and then large and then 2Xlarge 4Xlarge and so on. So it represents the size of the instance, and the more the size, the more the memory the more the CPU is going to have on your instance. 

Here are few different types of instance types. 

- **General Purpose:** These are great for diversity of workloads such as web servers or code repositories. They will have a good balance between compute, memory, networking. 
- **Compute Optimized:** These are instances are great, and optimized for compute intensive tasks. So what requires a high level of processor? Well, for example, 
- it could be if you're batch processing some data 
- if you're doing media transcoding if you need a high-performance web servers 
- if you're doing high performance, computing is called HPC 
- If you're doing machine learning or 
- if you have a dedicated gaming server. 

So all these things are tasks that require a very good CPU very good compute side. And so Ec2, instances do have this kind of particularity and for now all the computer optimized instances in EC2, are of the C names. So C5, C6, and so on.
- **Memory Optimized:** They are going to be have a really fast performance for the type of workloads that will process large datasets in memory(RAM). And so the use cases are this is going to be high performance for relational or non-relational databases are mostly going to be in memory databases, distributed web-scale cache store. So for our elastic cache, for example in memory databases that are optimized for business intelligence or BI. And applications performing real-time processing of big unstructured data. So in terms of the names for the memory optimized instances there's going to be the R series because R stands for RAM but there's also going to be X one high memory and Z one.
- **Storage Optimized:** They're great when you are accessing a lot of data sets on the local storage. And so the use cases for storage optimized instances are going to be high-frequency online transactional processing, so OLTP systems. Relational and NoSQL databases. Cache for in-memory databases, for example, Reddit's data warehousing application distributed file systems and the search optimized instances in AWS will start with an I, a G, or H one. 

Let's compare a few instance types. So for example as you seen picture above, for t2.micro we have one VCPU and one memory, one gigabytes of memory. And if you look for example, at r5.16xlarge we have 16 VCPU and 512 gigabytes of memory. So we can see there's a lot of more emphasis on the memory. If we compare it to example, to a c5d.4Xlarge we can see we have 16 VCPU and 32 gigabytes of memory. So less memory, more CPU and so on different network performance different EBS bandwidth and so on. 

You can see all the EC2 instances comparision in a website called [instances.vantage.sh](https://www.instances.vantage.sh)



